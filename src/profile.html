<!DOCTYPE html>
<html lang="en" class="page">

@include('partials/head.html')

<body class="page__body">
  <div class="site-container">
    @include('partials/header-profile.html')

    <section class="profile classes">
      <h2 class="classes__title title head">my profile</h2>
      <div class="container">
        <div class="tabs">
          <div class="tabs__header">
            <div class="tabs__item active" data-tab="0">favourites</div>
            <div class="tabs__item" data-tab="1">practice plans </div>
            <div class="tabs__item" data-tab="2">account</div>
          </div>
          <div class="tabs__body">
            <div class="tabs__info active">
              <div class="classes">
                <div class="classes__wrap flex-container">
                  <div class="flex-container__item">
                    <div class="flex-container__block">
                      <a href="#">
                        <img src="img/classes-img-1.jpg" width="430" height="300" alt="classes-img-1">
                        <img src="img/play.svg" alt="play" class="play">
                        <div class="flex-container__info">
                          <div class="flex-container__easy">EASY GOING</div>
                          <div class="flex-container__time">2:15</div>
                        </div>
                      </a>
                    </div>
                    <div class="flex-container__name">Day 1: Lorem ipsum dolor</div>
                    <div class="flex-container__descr">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec in
                      feugiat
                      nisl, porta pellentesque ante. Vestibulum ut massa tempus, consequat lectus.</div>
                  </div>
                  <div class="flex-container__item">
                    <div class="flex-container__block">
                      <a href="#">
                        <img src="img/classes-img-2.jpg" width="430" height="300" alt="classes-img-2">
                        <img src="img/play.svg" alt="play" class="play">
                        <div class="flex-container__info">
                          <div class="flex-container__easy">EASY GOING</div>
                          <div class="flex-container__time">2:15</div>
                        </div>
                      </a>
                    </div>
                    <div class="flex-container__name">Day 1: Proin justo ipsum</div>
                    <div class="flex-container__descr">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec in
                      feugiat
                      nisl, porta pellentesque ante. Vestibulum ut massa tempus, consequat lectus.</div>
                  </div>
                  <div class="flex-container__item">
                    <div class="flex-container__block">
                      <a href="#">
                        <img src="img/classes-img-3.jpg" width="430" height="300" alt="classes-img-3">
                        <img src="img/play.svg" alt="play" class="play">
                        <div class="flex-container__info">
                          <div class="flex-container__easy">EASY GOING</div>
                          <div class="flex-container__time">2:15</div>
                        </div>
                      </a>
                    </div>
                    <div class="flex-container__name">Day 1: Nulla pellentesque</div>
                    <div class="flex-container__descr">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec in
                      feugiat
                      nisl, porta pellentesque ante. Vestibulum ut massa tempus, consequat lectus.</div>
                  </div>
                </div>
                <div class="classes__wrap flex-container">
                  <div class="flex-container__item">
                    <div class="flex-container__block">
                      <a href="#">
                        <img src="img/classes-img-4.jpg" width="430" height="300" alt="classes-img-4">
                        <img src="img/play.svg" alt="play" class="play">
                        <div class="flex-container__info">
                          <div class="flex-container__easy">EASY GOING</div>
                          <div class="flex-container__time">2:15</div>
                        </div>
                      </a>
                    </div>
                    <div class="flex-container__name">Day 2: Curabitur blandit leo</div>
                    <div class="flex-container__descr">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec in
                      feugiat
                      nisl, porta pellentesque ante. Vestibulum ut massa tempus, consequat lectus.</div>
                  </div>
                  <div class="flex-container__item">
                    <div class="flex-container__block">
                      <a href="#">
                        <img src="img/classes-img-5.jpg" width="430" height="300" alt="classes-img-5">
                        <img src="img/play.svg" alt="play" class="play">
                        <div class="flex-container__info">
                          <div class="flex-container__easy">EASY GOING</div>
                          <div class="flex-container__time">2:15</div>
                        </div>
                      </a>
                    </div>
                    <div class="flex-container__name">Day 2: Mauris viverra</div>
                    <div class="flex-container__descr">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec in
                      feugiat
                      nisl, porta pellentesque ante. Vestibulum ut massa tempus, consequat lectus.</div>
                  </div>

                </div>
                <div class="classes__wrap flex-container">
                  <div class="flex-container__item">
                    <div class="flex-container__block">
                      <a href="#">
                        <img src="img/classes-img-6.jpg" width="430" height="300" alt="classes-img-6">
                        <img src="img/play.svg" alt="play" class="play">
                        <div class="flex-container__info">
                          <div class="flex-container__easy">EASY GOING</div>
                          <div class="flex-container__time">2:15</div>
                        </div>
                      </a>
                    </div>
                    <div class="flex-container__name">Day 3: Phasellus libero nunc</div>
                    <div class="flex-container__descr">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec in
                      feugiat
                      nisl, porta pellentesque ante. Vestibulum ut massa tempus, consequat lectus.</div>
                  </div>
                  <div class="flex-container__item">
                    <div class="flex-container__block">
                      <a href="#">
                        <img src="img/classes-img-7.jpg" width="430" height="300" alt="classes-img-7">
                        <img src="img/play.svg" alt="play" class="play">
                        <div class="flex-container__info">
                          <div class="flex-container__easy">EASY GOING</div>
                          <div class="flex-container__time">2:15</div>
                        </div>
                      </a>
                    </div>
                    <div class="flex-container__name">Day 3: Mauris mollis</div>
                    <div class="flex-container__descr">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec in
                      feugiat
                      nisl, porta pellentesque ante. Vestibulum ut massa tempus, consequat lectus.</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="tabs__info">
              <div class="classes__wrap flex-container">
                <div class="flex-container__item">
                  <div class="flex-container__block">
                    <a href="#">
                      <img src="img/classes-img-1.jpg" width="430" height="300" alt="classes-img-1">
                      <div class="flex-container__info">
                        <div class="flex-container__favorite"><img src="img/favorite.svg" alt=""></div>
                      </div>
                    </a>
                  </div>
                  <div class="flex-container__name">Lorem ipsum dolor</div>
                  <div class="flex-container__descr">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec in
                    feugiat
                    nisl, porta pellentesque ante. Vestibulum ut massa tempus, consequat lectus.</div>
                </div>
                <div class="flex-container__item">
                  <div class="flex-container__block">
                    <a href="#">
                      <img src="img/classes-img-2.jpg" width="430" height="300" alt="classes-img-2">
                      <div class="flex-container__info">
                        <div class="flex-container__favorite"><img src="img/favorite.svg" alt=""></div>
                      </div>
                    </a>
                  </div>
                  <div class="flex-container__name">Lorem ipsum dolor</div>
                  <div class="flex-container__descr">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec in
                    feugiat
                    nisl, porta pellentesque ante. Vestibulum ut massa tempus, consequat lectus.</div>
                </div>
                <div class="flex-container__item">
                  <div class="flex-container__block">
                    <a href="#">
                      <img src="img/classes-img-3.jpg" width="430" height="300" alt="classes-img-3">
                      <div class="flex-container__info">
                        <div class="flex-container__favorite"><img src="img/favorite.svg" alt=""></div>
                      </div>
                    </a>
                  </div>
                  <div class="flex-container__name">Lorem ipsum dolor</div>
                  <div class="flex-container__descr">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec in
                    feugiat
                    nisl, porta pellentesque ante. Vestibulum ut massa tempus, consequat lectus.</div>
                </div>
                <div class="flex-container__item">
                  <div class="flex-container__block">
                    <a href="#">
                      <img src="img/classes-img-4.jpg" width="430" height="300" alt="classes-img-4">
                      <div class="flex-container__info">
                        <div class="flex-container__favorite"><img src="img/favorite.svg" alt=""></div>
                      </div>
                    </a>
                  </div>
                  <div class="flex-container__name">Lorem ipsum dolor</div>
                  <div class="flex-container__descr">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec in
                    feugiat
                    nisl, porta pellentesque ante. Vestibulum ut massa tempus, consequat lectus.</div>
                </div>
              </div>
            </div>
            <div class="tabs__info">
              <div class="classes__wrap flex-container">
                <section class="profile__wrap">
                  <div class="profile__left">
                    <div class="profile__img">
                      <img src="img/avatar-big.png" alt="Avatar">
                      <!-- <img src="img/edit.svg" alt="Edit Profile"> -->
                      <label for="edit">
                        <input type="file" class="edit" id="edit">
                      </label>
                    </div>
                    <div class="profile__name">Christine McDonough</div>
                    <div class="profile__plan">pricing plan</div>
                    <div class="profile__month">MONTHLY</div>
                    <div class="profile__price">$12.99
                      <span>/month</span>
                    </div>
                    <div class="profile__btn btn-outline btn-reset">change plan</div>
                    <a href="" class="profile__cancel">cancel my membership</a>
                  </div>
                  <div class="profile__right">
                    <form action="profile" class="profile__form">
                      <div class="profile__names">personal info</div>
                      <label for="name">Full Name
                        <input id="name" type="text" name="name" value="" required>
                      </label>
                      <label for="email">EMAIL
                        <input id="email" type="email" name="email" value="" required>
                      </label>
                      <div class="profile__pass">
                        <label for="password">new Password
                          <input type="password" id="password">
                        </label>
                        <label for="password-conf">confirm new Password
                          <input type="password" id="password-conf">
                        </label>
                      </div>
                      <div class="profile__names">billing information</div>
                      <label for="cc-number-input">card number
                        <input type="text" maxlength="19" class="cc-number-input" id="cc-number-input" value="">
                      </label>
                      <div class="profile__wrapper">
                        <label for="cc-expiry-input">expiration date
                          <input type="text" maxlength="5" class="cc-expiry-input" id="cc-expiry-input" value="">
                        </label>
                        <label for="cc-cvc-input">Security code
                          <input type="text" maxlength="3" id="cc-cvc-input" class="cc-cvc-input">
                        </label>
                        <label for=""></label>
                      </div>
                      <div class="profile__btns">
                        <input type="submit" class="profile__btn btn-outline btn-reset" value="Save changes">
                        <input type="reset" class="profile__btn btn-outline btn-reset cancel" value="cancel">
                      </div>
                    </form>
                  </div>
                </section>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    @include('partials/connected.html')

    @include('partials/footer.html')
  </div>

  <script>
    let tabs = document.querySelector('.tabs__header'),
      tabsItem = document.querySelectorAll('.tabs__item'),
      tabsInfo = document.querySelectorAll('.tabs__info');

    tabs.addEventListener('click', fTabs);

    function fTabs(event) {
      if (event.target.className == "tabs__item") {
        //let dataTab = event.target.getAttribute('data-tab');
        let currentDataTab = event.target.dataset.tab;
        //console.log(currentDataTab);
        for (let i = 0; i < tabsItem.length; i++) {
          tabsItem[i].classList.remove('active');
        }
        event.target.classList.add('active');
        for (let i = 0; i < tabsInfo.length; i++) {
          if (currentDataTab == i) {
            tabsInfo[i].classList.add('active');
          } else {
            tabsInfo[i].classList.remove('active');
          }
        }
      }
    }

    // Input mask for credit card

    let ccNumberInput = document.querySelector('.cc-number-input'),
      ccNumberPattern = /^\d{0,16}$/g,
      ccNumberSeparator = " ",
      ccNumberInputOldValue,
      ccNumberInputOldCursor,

      ccExpiryInput = document.querySelector('.cc-expiry-input'),
      ccExpiryPattern = /^\d{0,4}$/g,
      ccExpirySeparator = "/",
      ccExpiryInputOldValue,
      ccExpiryInputOldCursor,

      ccCVCInput = document.querySelector('.cc-cvc-input'),
      ccCVCPattern = /^\d{0,3}$/g,

      mask = (value, limit, separator) => {
        var output = [];
        for (let i = 0; i < value.length; i++) {
          if (i !== 0 && i % limit === 0) {
            output.push(separator);
          }

          output.push(value[i]);
        }

        return output.join("");
      },
      unmask = (value) => value.replace(/[^\d]/g, ''),
      checkSeparator = (position, interval) => Math.floor(position / (interval + 1)),
      ccNumberInputKeyDownHandler = (e) => {
        let el = e.target;
        ccNumberInputOldValue = el.value;
        ccNumberInputOldCursor = el.selectionEnd;
      },
      ccNumberInputInputHandler = (e) => {
        let el = e.target,
          newValue = unmask(el.value),
          newCursorPosition;

        if (newValue.match(ccNumberPattern)) {
          newValue = mask(newValue, 4, ccNumberSeparator);

          newCursorPosition =
            ccNumberInputOldCursor - checkSeparator(ccNumberInputOldCursor, 4) +
            checkSeparator(ccNumberInputOldCursor + (newValue.length - ccNumberInputOldValue.length), 4) +
            (unmask(newValue).length - unmask(ccNumberInputOldValue).length);

          el.value = (newValue !== "") ? newValue : "";
        } else {
          el.value = ccNumberInputOldValue;
          newCursorPosition = ccNumberInputOldCursor;
        }

        el.setSelectionRange(newCursorPosition, newCursorPosition);

        highlightCC(el.value);
      },
      highlightCC = (ccValue) => {
        let ccCardType = '',
          ccCardTypePatterns = {
            amex: /^3/,
            visa: /^4/,
            mastercard: /^5/,
            disc: /^6/,

            genric: /(^1|^2|^7|^8|^9|^0)/,
          };

        for (const cardType in ccCardTypePatterns) {
          if (ccCardTypePatterns[cardType].test(ccValue)) {
            ccCardType = cardType;
            break;
          }
        }

        let activeCC = document.querySelector('.cc-types__img--active'),
          newActiveCC = document.querySelector(`.cc-types__img--${ccCardType}`);

        if (activeCC) activeCC.classList.remove('cc-types__img--active');
        if (newActiveCC) newActiveCC.classList.add('cc-types__img--active');
      },
      ccExpiryInputKeyDownHandler = (e) => {
        let el = e.target;
        ccExpiryInputOldValue = el.value;
        ccExpiryInputOldCursor = el.selectionEnd;
      },
      ccExpiryInputInputHandler = (e) => {
        let el = e.target,
          newValue = el.value;

        newValue = unmask(newValue);
        if (newValue.match(ccExpiryPattern)) {
          newValue = mask(newValue, 2, ccExpirySeparator);
          el.value = newValue;
        } else {
          el.value = ccExpiryInputOldValue;
        }
      };

    ccNumberInput.addEventListener('keydown', ccNumberInputKeyDownHandler);
    ccNumberInput.addEventListener('input', ccNumberInputInputHandler);

    ccExpiryInput.addEventListener('keydown', ccExpiryInputKeyDownHandler);
    ccExpiryInput.addEventListener('input', ccExpiryInputInputHandler);
  </script>
  <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>
  <script src="js/main.js"></script>
</body>

</html>
